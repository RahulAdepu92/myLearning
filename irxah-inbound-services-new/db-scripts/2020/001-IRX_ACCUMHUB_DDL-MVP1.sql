CREATE schema AHUB_STG authorization awsuser;

CREATE TABLE AHUB_STG.STG_ACCUM_DTL
(
   PRCS_ROUT_ID             VARCHAR(200) NOT NULL,
   RECD_TYPE                VARCHAR(2),
   TRANSMISSION_FILE_TYP    VARCHAR(2),
   VER_RELEASE_NBR          VARCHAR(2),
   SENDER_ID                VARCHAR(30),
   RECEIVER_ID              VARCHAR(30),
   SUBMISSION_NBR           VARCHAR(4),
   TRANS_RESP_STS           VARCHAR(1),
   REJECT_CD                VARCHAR(3),
   REC_LGTH                 VARCHAR(5),
   RESERVED_SP1             CHAR(20),
   TRANS_DT                 VARCHAR(8),
   TRANS_TS                 VARCHAR(8),
   DATE_OF_SVIC             VARCHAR(8),
   SERVICE_PROVIDER_ID_QFR  VARCHAR(2),
   SERVICE_PROVIDER_ID      VARCHAR(15),
   DOC_REF_ID_QFR           VARCHAR(2),
   DOC_REF_ID               VARCHAR(15),
   TRANSMISSION_ID          VARCHAR(50),
   BENEFIT_TYP              VARCHAR(1),
   IN_NETWORK_IND           VARCHAR(1),
   FORMULARY_STS            VARCHAR(1),
   ACCUM_ACTION_CD          VARCHAR(2),
   SENDER_REFERENCE_NBR     VARCHAR(30),
   INSURANCE_CD             VARCHAR(20),
   ACCUM_BAL_BENEFIT_TYP    VARCHAR(1),
   BENEFIT_EFF_DT           VARCHAR(8),
   BENEFIT_TERM_DT          VARCHAR(8),
   ACCUM_CHG_SRCE_CD        VARCHAR(1),
   TRANS_ID                 VARCHAR(30),
   TRANS_ID_CROSS_REF       VARCHAR(30),
   ADJUSTMENT_REASON_CD     VARCHAR(1),
   ACCUM_REF_TIME_STMP      VARCHAR(26),
   RESERVED_SP2             CHAR(13),
   CARDHOLDER_ID            VARCHAR(20),
   GROUP_ID                 VARCHAR(15),
   PATIENT_FIRST_NM         VARCHAR(25),
   MIDDLE_INITIAL           VARCHAR(1),
   PATIENT_LAST_NM          VARCHAR(35),
   PATIENT_RELATIONSHIP_CD  VARCHAR(1),
   DATE_OF_BIRTH            VARCHAR(8),
   PATIENT_GENDER_CD        VARCHAR(1),
   PATIENT_STATE_PROVINCE_ADDR VARCHAR(2),
   CARDHOLDER_LAST_NM       VARCHAR(35),
   CARRIER_NBR              VARCHAR(9),
   ACCOUNT_NBR              VARCHAR(15),
   CLIENT_PASS_THROUGH      VARCHAR(50),
   FAMILY_ID_NBR            VARCHAR(20),
   CARDHOLDER_ID_ALTN       VARCHAR(20),
   GROUP_ID_ALTN            VARCHAR(15),
   PATIENT_ID               VARCHAR(20),
   PERSON_CD                VARCHAR(3),
   RESERVED_SP3             CHAR(90),
   ACCUM_BAL_CNT            VARCHAR(2),
   ACCUM_SPECIFIC_CATG      VARCHAR(2),
   RESERVED_SP4             CHAR(20),
   ACCUM_BAL_QFR_1          VARCHAR(2),
   ACCUM_NETWORK_IND_1      VARCHAR(1),
   ACCUM_APPLIED_AMT_1      DECIMAL(18,2),
   APPLIED_ACTION_CD_1      VARCHAR(1),
   ACCUM_BENEFIT_PD_AMT_1   DECIMAL(18,2),
   BENFIT_ACTION_CD_1       VARCHAR(1),
   ACCUM_REMAINING_BAL_1    DECIMAL(18,2),
   REMAINING_ACTION_CD_1    VARCHAR(1),
   ACCUM_BAL_QFR_2          VARCHAR(2),
   ACCUM_NETWORK_IND_2      VARCHAR(1),
   ACCUM_APPLIED_AMT_2      DECIMAL(18,2),
   APPLIED_ACTION_CD_2      VARCHAR(1),
   ACCUM_BENEFIT_PD_AMT_2   DECIMAL(18,2),
   BENFIT_ACTION_CD_2       VARCHAR(1),
   ACCUM_REMAINING_BAL_2    DECIMAL(18,2),
   REMAINING_ACTION_CD_2    VARCHAR(1),
   ACCUM_BAL_QFR_3          VARCHAR(2),
   ACCUM_NETWORK_IND_3      VARCHAR(1),
   ACCUM_APPLIED_AMT_3      DECIMAL(18,2),
   APPLIED_ACTION_CODE_3    VARCHAR(1),
   ACCUM_BENEFIT_PD_AMT_3   DECIMAL(18,2),
   BENFIT_ACTION_CD_3       VARCHAR(1),
   ACCUM_REMAINING_BAL_3    DECIMAL(18,2),
   REMAINING_ACTION_CD_3    VARCHAR(1),
   ACCUM_BAL_QFR_4          VARCHAR(2),
   ACCUM_NETWORK_IND_4      VARCHAR(1),
   ACCUM_APPLIED_AMT_4      DECIMAL(18,2),
   APPLIED_ACTION_CD_4      VARCHAR(1),
   ACCUM_BENEFIT_PD_AMT_4   DECIMAL(18,2),
   BENFIT_ACTION_CD_4       VARCHAR(1),
   ACCUM_REMAINING_BAL_4    DECIMAL(18,2),
   REM_ACTION_CD_4          VARCHAR(1),
   RESERVED_SP5             VARCHAR(570)
) diststyle all;

CREATE TABLE AHUB_STG.STG_ACCUM_HIST_DTL
(
recd_typ	VARCHAR(1)  NOT NULL,
Member_ID	VARCHAR(18) NOT NULL,
carrier_nbr 	VARCHAR(9)  NOT NULL,
account_nbr	VARCHAR(15) NOT NULL,
group_id	VARCHAR(15),
adj_typ		VARCHAR(1),
adj_amt	        DECIMAL(18,2),
accum_cd	VARCHAR(10),
adj_dt		VARCHAR(7),
adj_cd		VARCHAR(10),
plan_cd		VARCHAR(10),
care_facility	VARCHAR(6),
member_state_cd	VARCHAR(2),
patient_first_nm VARCHAR(15),
patient_last_nm	VARCHAR(25),
patient_DOB	VARCHAR(8),
Patient_relationship_cd	VARCHAR(1),
RESERVED_SP    VARCHAR(135) 
)
diststyle all;

CREATE TABLE AHUB_STG.STG_ACCUM_HIST_CROSSWALK
(
carrier_nbr      VARCHAR(9)  NOT NULL,
account_nbr      VARCHAR(15) NOT NULL,
cvs_group_id     VARCHAR(15) NOT NULL,
--group_nm         VARCHAR(100),
eff_dt           VARCHAR(10),
term_dt          VARCHAR(10),
cvs_plan         VARCHAR(100),
irx_carrier_nbr  VARCHAR(9),
irx_account_nbr  VARCHAR(15), 
irx_group_id     VARCHAR(15) 
)
diststyle all;